= fluxnova BPMN model API

The fluxnova BPMN model API is a simple, lightweight Java library for parsing, creating and editing BPMN 2.0 XML files. It is licensed under the Apache 2.0 license.

[NOTE]
====
fluxnova BPMN model can be used standalone, independenly of Fluxnova Platform / process engine.
====
 /** Needs To Be Reviewed - Only Examples Link **
* Web Site: https://fluxnova.finos.org
* User Guide: link:https://docs.fluxnova.finos.org/user-guide/model-api/bpmn-model-api/[https://docs.fluxnova.finos.org]
* Examples: link:https://github.com/camunda/camunda-bpm-examples/tree/master/bpmn-model-api[https://github.com/camunda/camunda-bpm-examples]
* Issue Tracker: https://github.com/finos/fluxnova-bpm-platform/issues
* Contribution Guidelines: https://github.com/finos/fluxnova-bpm-platform/blob/main/CONTRIBUTING.md

== Features

=== Fluent builder API

To easily create simple BPMN 2.0 processes we provide the fluent builder API. It supports most BPMN 2.0
elements and allows you to set attributes and add some child elements. The following process is deployable
and can be executed by the Fluxnova Platform.

[source,java]
----
BpmnModelInstance modelInstance = Bpmn.createExecutableProcess("processId")
  .startEvent()
  .userTask()
  .endEvent()
  .done();
----
 /** Needs To Be Reviewed **
For more complex examples see the link:https://docs.fluxnova.finos.org/user-guide/model-api/bpmn-model-api/fluent-builder-api/[docs],
the tests in link:src/test/java/org/finos/fluxnova/bpm/model/bpmn/builder/ProcessBuilderTest.java[ProcessBuilderTest.java] or this   
link:https://github.com/camunda/camunda-bpm-examples/tree/master/bpmn-model-api/generate-process-fluent-api[example].** Needs To Be Reviewed **

=== Create an empty BPMN model

You can easily create a new empty BPMN model.

[source,java]  ** Needs To Be Reviewed **
----
BpmnModelInstance modelInstance = Bpmn.createEmptyModel();
Definitions definitions = modelInstance.newInstance(Definitions.class);
definitions.setTargetNamespace("http://camunda.org/examples");
modelInstance.setDefinitions(definitions);
----

=== Validate a BPMN model

At any time you can validate your model against the BPMN 2.0 specification.

[source,java]
----
BpmnModelInstance modelInstance = [...]
Bpmn.validateModel(modelInstance);
----

=== Creating a Process using the full API

The fluent API is usually a good choice for creating a new BPMN process.
However, not all elements supported by the model are exposed through fluent
builders and the fluent api may not be the appropriate API style for all usecases.
In such cases, the full API can be used for creating a process model.
The following code creates a simple Process as a jUnit4 test using the full API:
link:src/test/java/org/finos/fluxnova/bpm/model/bpmn/CreateModelTest.java[CreateModelTest.java].

=== Find elements inside the model

[source,java]
----
// find element instance by ID
ModelElementInstance elementInstance = modelInstance.getModelElementById("start");

// find all elements of the type task
ModelElementType taskType = modelInstance.getModel().getType(Task.class);
Collection<ModelElementInstance> elementInstances = modelInstance.getModelElementsByType(taskType);
----

=== Save the BPMN model

The model API allows you to save your model in several ways

[source,java]
----
// create BPMN model
BpmnModelInstance modelInstance = [...]

// convert to string
String xmlString = Bpmn.convertToString(modelInstance);

// write to output stream
OutputStream outputStream = new OutputStream(...);
Bpmn.writeModelToStream(outputStream, modelInstance);

// write to file
File file = new File(...);
Bpmn.writeModelToFile(file, modelInstance);

----

== Planned features

* extended validation support like integrity checks for broken references


== FAQ

=== What is BPMN 2.0?   ** Needs To Be Reviewed **

Read the https://camunda.com/bpmn/[BPMN 2.0 Tutorial on camunda.com].

=== Which Java (JRE) Version is required?

Java JRE 1.8+ is required. We test fluxnova BPMN model API on Oracle and IBM JVMs.

=== Does this API support all BPMN 2.0 Elements?

No, but support is already quite extensive. See
link:src/main/java/org/finos/fluxnova/bpm/model/bpmn/instance[org.finos.fluxnova.bpm.model.bpmn.instance]
for a list of currently supported elements.
