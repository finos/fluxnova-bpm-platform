<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Fluxnova Monitoring</title>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta name="description" content="Fluxnova Monitoring" />
    <meta name="author" content="FINOS 2025" />

    <!-- settings the base path for relative links -->
    <base
      href="<%= htmlWebpackPlugin.options.appBase %>"
      admin-api="<%= htmlWebpackPlugin.options.appRoot %>/api/admin/"
      monitoring-api="<%= htmlWebpackPlugin.options.appRoot %>/api/monitoring/"
      tasklist-api="<%= htmlWebpackPlugin.options.appRoot %>/api/tasklist/"
      welcome-api="<%= htmlWebpackPlugin.options.appRoot %>/api/welcome/"
      engine-api="<%= htmlWebpackPlugin.options.appRoot %>/api/engine/"
      app-root="<%= htmlWebpackPlugin.options.appRoot %>"
      app-name="monitoring"
    />

    <!-- an example of plugin/feature exclusion -->
    <!--
    <base href="$BASE"
          admin-api="$APP_ROOT/api/admin/"
          monitoring-api="$APP_ROOT/api/monitoring/"
          tasklist-api="$APP_ROOT/api/tasklist/"
          welcome-api="$APP_ROOT/api/welcome/"
          engine-api="$APP_ROOT/api/engine/"
          app-root="$APP_ROOT"
          fxn-exclude-plugins="monitoring.dashboard:process-definition-tiles" />
    -->

    <%= htmlWebpackPlugin.tags.headTags %>

    <link
      rel="stylesheet"
      type="text/css"
      href="<%= htmlWebpackPlugin.options.appRoot %>/app/monitoring/styles/user-styles.css?bust=<%= htmlWebpackPlugin.options.version %>"
    />
  </head>
  <body>
    <!-- navigation -->
    <div
      fxn-widget-header
      class="Header"
      authentication="authentication"
      user-name="userFullName"
      current-app="monitoring"
      ng-cloak
      sign-out="{{ 'SIGN_OUT_ACTION' | translate }}"
      my-profile="{{ 'MY_PROFILE' | translate }}"
    >
      <ul fxn-if-logged-in ng-controller="fxnHeaderViewsCtrl">
        <li
          ng-repeat="actionProvider in menuActions"
          ng-if="actionProvider.accessible"
          ng-class="activeClass(actionProvider)"
        >
          <view provider="actionProvider"></view>
        </li>
        <li class="dropdown" ng-if="dropdownActions.length" uib-dropdown>
          <a class="dropdown-toggle" uib-dropdown-toggle href
            >{{ 'MONITORING_MORE' | translate}} <i class="caret"></i
          ></a>
          <ul class="dropdown-menu" uib-dropdown-menu>
            <li
              ng-repeat="actionProvider in dropdownActions"
              ng-if="actionProvider.accessible"
              ng-class="activeClass(actionProvider)"
            >
              <view provider="actionProvider"></view>
            </li>
          </ul>
        </li>
      </ul>
    </div>

    <!-- content -->
    <div class="ctn-main">
      <div class="ctn-wrapper">
        <div
          ng-if="showBreadcrumbs"
          ng-cloak
          fxn-breadcrumbs-panel
          divider="&raquo;"
          class="breadcrumbs-panel"
        ></div>

        <div notifications-panel class="page-notifications"></div>

        <!-- view body provided by ngView -->
        <div ng-view>
          <div class="app-splash">
            <div>
              <div class="spinner spinner-big"></div>
            </div>
          </div>
          <!-- / .app-splash -->
        </div>
      </div>
    </div>

    <!-- footer -->
    <footer
      fxn-widget-footer
      version="v<%= htmlWebpackPlugin.options.version %>"
    ></footer>

    <script type="application/javascript" $CSP_NONCE>
      window.fxnMonitoringConf = {};

      window.PLUGIN_DEPENDENCIES = <%= htmlWebpackPlugin.options.pluginDeps %> || [];
      window.PLUGIN_PACKAGES = <%= htmlWebpackPlugin.options.pluginPackages %> || [];

      window.require = {
        waitSeconds: 0
      };
    </script>
  </body>
</html>
